# Шаги, которые возвращают массив

```java
public class MyTest {

    // В данном примере выполняется шаг, который
    // возвращает массив объектов. 
    // В ходе вычислений получается массив, который либо 
    // возвращается целиком, либо фильтруется по опциональным
    // уточняющим результат параметрам.
    // Из шага может вернуться массив с количеством элементов > 0, 
    // если есть подходящие элементы,
    // или пустой массив / null - в противном случае
    @Test
    public void myTest() {

        //схематичный вызов контекста, 
        // в рамках которого выполняется шаг
        Object[] result = someContext()
                .get(someArray(/*необходимые параметры*/) //вызов выполняемого
                //шага
                .someParam(param) //могут быть опциональные параметры,
                .someOtherParam(param2) //характерные для того или иного шага.
                //-----------------------------------------------
                // Можно указать опциональные уточняющие параметры    
                //------------------------------------------------
                //    
                // В зависимости от реализации, шаг может вычислять
                // значение с использованием некоторых промежуточных 
                // шагов, выполняемых в рамках того же контекста. 
                // Так же, в зависимости от реализации, могут быть
                // использованы ранее вычисленные значения.
                // Не во всех реализациях этот метод может 
                // быть публично доступен. Он может вызываться неявно
                // при создании объекта шага. Данный пример просто
                // показывает принцип.    
                .from(someRootValue()
                    /*
                     * опциональные параметры промежуточного шага
                     */
                )    
            ); 
    }
}
```

```{eval-rst}
.. include:: ../../../../shared_docs/steps_return_array_optiotal_parameters_sync.rst
```



```{eval-rst}
.. include:: ../../../../shared_docs/steps_return_array_optiotal_parameters_async.rst
```